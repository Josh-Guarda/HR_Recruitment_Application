{% extends "dashboard/base_dashboard.html"%}


<!--After fixing of user type show this is user is public-->
{% block nav %}
<li class="nav-item ">
    <span class="text-muted UserProf">Welcome, {{ current_user.firstname|capitalize }} </span>
</li>

<li class="nav-item">
    <button id="nav-btn" type="button" class="btn btn-light fw-normal border" onclick="location.href='{{ url_for('career_page') }}'">
    ‚Üê Back to Jobs
    </button>
</li>
<!---
<li class="nav-item">
    <button type="button" id="logout-btn" class="btn fw-normal btn-md lead border " onclick="location.href='{{ url_for('logout_page') }}'">
        Logout
    </button>
</li>-->


<li class="nav-item">
    <div class="dropdown">
        <button class="btn btn-light border border-secondary rounded-circle p-0 d-lg-flex" type="button" id="dropdownMenuButton2" data-bs-toggle="dropdown" aria-expanded="false">
            
            <img id="avatar-icon" src="
            {% if current_user.profile_picture %}
            {{url_for('static', filename='uploads/avatars/'~ current_user.profile_picture)}} 
            {% else %}
            {{ url_for('static', filename='builtin/icons/person.png') }}"
             onerror="this.onerror=null; this.src='{{ url_for('static', filename='builtin/icons/person.png') }}'
            {% endif %}">
            
        </button>
        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownMenuButton2">
            <li><a class="dropdown-item" href="{{ url_for('logout_page') }}">Logout</a></li>
        </ul>
    </div>
</li>


{% endblock%}

{% block section %}

<div class="container p-5">
    <div id='btn-group-container' class="container-fluid p-1 mb-3 rounded btn-group-container">
        <div class="btn-group  w-100" role="group" aria-label="Form Navigation">
            <button type="button" class="btn btn-outline-light fw-bold rounded active" id="btn-personal">Profile Settings</button>
            <button type="button" class="btn btn-outline-light fw-bold rounded" id="btn-application">My Application</button>
        </div>
    </div>
    
    
    <!-- Section 1: Personal Info -->
    <div id="section-personal" class="form-section container-fluid border rounded py-4">
        <div class="d-flex flex-column align-items-center justify-content-center pb-4">
            <h4>Profile Settings</h4>
            <p class="text-muted">Update your personal information and preferences</p>
        </div>
        
        <form method="POST" enctype="multipart/form-data">
            {{form.hidden_tag() }}

            <div class="avatar pb-5">
                <div id="avatar-container">
                    <img id="avatar-preview" src="
                        {% if current_user.profile_picture %}
                        {{ url_for('static', filename='uploads/avatars/'~ current_user.profile_picture)}}
                        {% else %}
                        {{ url_for('static', filename='builtin/icons/person.png')}}
                        {% endif %}" 
                        alt="Avatar"
                        onerror="this.onerror=null; this.src='{{ url_for('static', filename='builtin/icons/person.png') }}'">


                </div>
                <label for="avatar-upload" class="upload-label">
                        <span class="upload-icon">+</span>
                </label>
                <input type="file" id="avatar-upload" name="avatar" accept="image/png,image/jpeg"/>
            </div>
            

            <div class="row row-cols-1 row-cols-lg-2 mb-3 text-muted">
                <div class="col text-center">
                    {{ form.firstname.label(class="mb-1") }}
                    {{ form.firstname(class="form-control", placeholder="Juan") }}
                </div>
                <div class="col text-center">
                    {{ form.lastname.label(class="mb-1") }}
                    {{ form.lastname(class="form-control", placeholder="Dela Cruz") }}
                </div>
            </div>

            <div class="row">
                <div class="col text-center text-muted py-5 ps-lg-3">
                    <h6 class="mb-4">Address Details</h6>
                    
                    <div class="row row-cols-lg-2 mb-5 text-muted">
                        <div class="col text-center">
                            {{ form.firstname.label(class="mb-1") }}
                            {{ form.firstname(class="form-control", placeholder="Juan") }}
                        </div>
                        <div class="col text-center">
                            {{ form.firstname.label(class="mb-1") }}
                            {{ form.firstname(class="form-control", placeholder="Juan") }}
                        </div>
                    </div>
                    <div class="row row-cols-1 row-cols-lg-4 mb-5 text-muted">
                        <div class="col text-center">
                            {{ form.lastname.label(class="mb-1") }}
                            {{ form.lastname(class="form-control", placeholder="Dela Cruz") }}
                        </div>
                        <div class="col text-center">
                            {{ form.lastname.label(class="mb-1") }}
                            {{ form.lastname(class="form-control", placeholder="Dela Cruz") }}
                        </div>
                        <div class="col text-center">
                            {{ form.lastname.label(class="mb-1") }}
                            {{ form.lastname(class="form-control", placeholder="Dela Cruz") }}
                        </div>

                        <div class="col text-center">
                            {{ form.lastname.label(class="mb-1") }}
                            {{ form.lastname(class="form-control", placeholder="Dela Cruz") }}
                        </div>
                    </div>
                </div>
            </div>

            
            <div class="row">
                <div class="col-12 col-lg-6 text-center text-muted py-5 pe-lg-3">
                    <h6 class="mb-4">Contact Details</h6>
                    <div class="mb-3">
                        {{ form.email_address.label(class="mb-1") }}
                        {{ form.email_address(class="form-control", placeholder="your@email.com") }}
                    </div>
                    <div class="mb-3">
                        {{ form.mobile_number.label(class="mb-1") }}
                        {{ form.mobile_number(class="form-control", placeholder="+63*") }}
                    </div>
                    <div>
                        {{ form.phone_number.label(class="mb-1") }}
                        {{ form.phone_number(class="form-control", placeholder="0000-0000") }}
                    </div>
                </div>

                <div class="col-12 col-lg-6 text-center text-muted py-5 ps-lg-3">
                    <h6 class="mb-4">Login Details</h6>
                    <div class="mb-3">
                        
                    </div>
                </div>
            </div>

            

            

            
            <!--<div class="row">
            
                <div class="col text-start text-muted py-5 ps-lg-3">
                    <h6 class="mb-4">Other Details</h6>
                    
                    <div class="btn-group" role="group" aria-label="Basic outlined example">
                        <button type="button" class="btn btn-outline-light text-dark border-secondary">Bio</button>
                        <button type="button" class="btn btn-outline-light text-dark border-secondary">Educational Background</button>
                        <button type="button" class="btn btn-outline-light text-dark border-secondary">Career Experience</button>
                        <button type="button" class="btn btn-outline-light text-dark border-secondary">Character Reference</button>
                    </div>
  
                </div>
            </div> -->





            <div class="text-center mb-3">
                {{form.update(class="btn btn-sm btn-outline-success text-success px-5")}}
                {{form.cancel (class="btn btn-sm btn-outline-danger text-danger px-5")}}
                
            </div>
            
            
        </form>
    
        

    </div>
     
    

    <!-- Section 2: Application Details -->
    <div id="section-job" class="form-section d-none py-4">
        <div class="d-flex flex-column align-items-center justify-content-center pb-5">
            <h4>My Applications</h4>
            <p class="text-muted">Track the status of your job applications</p>
        </div>
        
        <div class="container-fluid border text-center text-muted rounded p-5">
            <h6>You haven't submitted any applications yet.</h6>
            <p>Browse available job opportunities and apply to get started.</p>
        </div>
    </div>
    
</div>




{% endblock%}


                